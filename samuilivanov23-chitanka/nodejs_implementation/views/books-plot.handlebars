<div class="container">
    <form action="/plot" autocomplete="off" class="margin_style" method="post">
        <div class="autocomplete" style="width:300px">
            <label for="author"> Author </label><br>
            <input id = "myAuthor" type="text" name="author" placeholder="Enter author name" value=""><br><br>
        </div>

        <div class="autocomplete" style="width:300px">
            <label for="author"> Book </label><br>
            <input id="myBook" type="text" name="book" placeholder="Enter book name" value=""><br><br>
        </div>

        <input class="button button_style" type="submit" value="submit"><br>
    </form>
</div>

<div id="chart">

<script type="text/javascript">
    let inputData = ['{{plotData}}'];
    let formatedData = SplitInputData(inputData[0]);

    let x_axis = []
    let y_axis = []
    chart_title = "Top 10 books with most unique words";

    for(let i = 0; i < formatedData.length/2; i++)
    {
        x_axis.push(formatedData[i]);
    }

    for(let i = formatedData.length/2; i < formatedData.length; i++)
    {
        y_axis.push(formatedData[i]);
    }

    function SplitInputData(inputData)
    {
        let splitedData = ""; // each individual parameter
        let plotData = []; //the hole list of parameters
        
        for(let i = 0; i < inputData.length; i++)
        {
            if(inputData[i] == ',' && inputData[i+1] != ' ')
            {
                plotData.push(splitedData);
                splitedData = "";
            }
            else
            {
                splitedData = splitedData.concat(inputData[i]);
            }
        }
        plotData.push(splitedData); // to add the last element 

        return plotData;
    }
</script>

<script type="text/javascript" src="/plot.js"></script>

<script type="text/javascript">
    //get data for the autocomplete.js
    inputData = ['{{authors_autocomplete}}'];
    let formatedDataAuthors = inputData[0].split(',');

    inputData = ['{{books_autocomplete}}'];
    let formatedDataBooks = inputData[0].split(',');
</script>

<script type="text/javascript" src="/autocomplete.js"></script>